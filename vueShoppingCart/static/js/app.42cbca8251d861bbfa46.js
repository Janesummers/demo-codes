webpackJsonp([1],{"/6gk":function(t,e){},"57P8":function(t,e){},BSJM:function(t,e){},Lzz8:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("ul",{staticClass:"nav"},[s("router-link",{attrs:{to:"/",exact:"",tag:"li",event:"click"}},[s("i",{staticClass:"iconfont icon-zhuye"}),t._v(" "),s("span",[t._v("home")])]),t._v(" "),s("router-link",{attrs:{to:"/goods",exact:"",tag:"li",event:"click"}},[s("i",{staticClass:"iconfont icon-goods"}),t._v(" "),s("span",[t._v("goods")])]),t._v(" "),s("router-link",{attrs:{to:"/shoppingCart",tag:"li",event:"click"}},[s("i",{staticClass:"iconfont icon-gouwuche"}),t._v(" "),s("span",[t._v("shoppingCart")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.num>=1,expression:"num>=1"}],staticClass:"num"},[t._v(t._s(t.num))])])],1),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"app",computed:{num:function(){return this.$store.state.shoppingCartList.length}}},o,!1,function(t){s("d5nF")},null,null).exports,n=s("mvHQ"),c=s.n(n),r=s("NYxO");a.a.use(r.a);var h=[{describe:"3D Touch、1200万像素照片、4k视频，强大功能于一身。",pictures:{silver:"../../static/img/iphone6s-silver-select-2015.png",deep_grey:"../../static/img/iphone6s-gray-select-2015.png",golden:"../../static/img/iphone6s-gold-select-2015.png",rose_gold:"../../static/img/iphone6s-rosegold-select-2015.png"},name:"Apple/苹果 iPhone 6S",minPrice:5288,maxPrice:6888,color:{silver:"银色",deep_grey:"深空灰色",golden:"金色",rose_gold:"玫瑰金色"},storages:{sixteen:"16GB",sixtyFour:"64GB",one_hundred_and_twenty_eight:"128GB"},unit_price:0,pay_number:1,subtotal:0}],l=function(t,e){localStorage.setItem(t,c()(e))},_=function(t){return JSON.parse(localStorage.getItem(t))||[]},d=new r.a.Store({state:{shoppingCartList:_("data"),goodsDetail:h,choose_data:{choose_phone_pic:h[0].pictures.silver,choose_color:"银色",choose_storage:"",choose_color_index:"silver",choose_storage_index:"",choose_price:0},defaultChooses:["silver","null"]},mutations:{check_all:function(t,e){if(e.check_state)for(var s=0;s<t.shoppingCartList.length;s++)t.shoppingCartList[s].checked=!1;else for(var a=0;a<t.shoppingCartList.length;a++)t.shoppingCartList[a].checked||(t.shoppingCartList[a].checked=!0)},choose:function(t,e){var s=t.shoppingCartList[e.index].checked;t.shoppingCartList[e.index].checked=!s},decrease:function(t,e){var s=t.shoppingCartList[e.index];s.pay_number>1&&(s.pay_number-=1,s.subtotal=s.pay_number*s.unit_price)},add:function(t,e){var s=t.shoppingCartList[e.index];s.pay_number+=1,s.subtotal=s.pay_number*s.unit_price},change_num:function(t,e){var s=t.shoppingCartList[e.index];s.pay_number=parseInt(e.num),s.subtotal=s.pay_number*s.unit_price},del:function(t,e){t.shoppingCartList.splice(e,1)},add_shopping_cart:function(t,e){t.shoppingCartList.push({checked:!0,picture:e.pic,name:e.name,color:e.color,type:e.storage,unit_price:e.price,pay_number:1,subtotal:e.price}),l("data",t.shoppingCartList)},change_choose:function(t,e){t.change_choose=e.data},change_defaultChooses:function(t,e){t.defaultChooses=e.defaultChooses},choose_data:function(t,e){var s=t.choose_data;if("color"===e.type){t.defaultChooses[0]=e.index;var a=t.goodsDetail[0].pictures;"silver"===e.index?(s.choose_phone_pic=a.silver,s.choose_color="银色",s.choose_color_index="silver"):"deep_grey"===e.index?(s.choose_phone_pic=a.deep_grey,s.choose_color="深空灰色",s.choose_color_index="deep_grey"):"golden"===e.index?(s.choose_phone_pic=a.golden,s.choose_color="金色",s.choose_color_index="golden"):(s.choose_phone_pic=a.rose_gold,s.choose_color="玫瑰金色",s.choose_color_index="rose_gold")}else t.defaultChooses[1]=e.index,"sixteen"===e.index?(s.choose_storage="16GB",s.choose_storage_index="sixteen",s.choose_price=5288):"sixtyFour"===e.index?(s.choose_storage="64GB",s.choose_storage_index="sixtyFour",s.choose_price=6088):(s.choose_storage="128GB",s.choose_storage_index="one_hundred_and_twenty_eight",s.choose_price=6888)}}}),p=s("zO6J"),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"choose_list"},t._l(t.data,function(e,a){return s("li",{class:{active:t.choose_index===a},on:{click:function(e){t.choose(a)}}},[t._v("\n      "+t._s(e)+"\n    ")])}))},staticRenderFns:[]};var v={name:"goods",data:function(){return{choose_datas:{},types:["color","storage"]}},created:function(){this.choose_datas=this.$store.state.choose_data},components:{chooseList:s("VU/8")({data:function(){return{choose_index:this.defaultChoose}},props:["data","type","defaultChoose"],methods:{choose:function(t){this.choose_index=t,this.$store.commit("choose_data",{index:t,type:this.type})}}},u,!1,function(t){s("BSJM")},null,null).exports},watch:{choose_datas:{handler:function(){this.$store.commit("change_choose",{data:this.choose_datas})},deep:!0}},computed:{datas:function(){return this.$store.state.goodsDetail[0]},defaultChooses:function(){return this.$store.state.defaultChooses}},methods:{add_shopping_cart:function(){var t=this.choose_datas;this.$store.commit("add_shopping_cart",{pic:t.choose_phone_pic,color:t.choose_color,storage:t.choose_storage,price:t.choose_price,name:this.$store.state.goodsDetail[0].name})}}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"goods"},[e("div",{staticClass:"img_box"},[e("img",{attrs:{src:this.choose_datas.choose_phone_pic,alt:""}})]),this._v(" "),e("div",{staticClass:"detail"},[e("p",{staticClass:"title"},[this._v(this._s(this.datas.name))]),this._v(" "),e("p",{staticClass:"solid"}),this._v(" "),e("p",{staticClass:"describe"},[e("span",{staticClass:"type"},[this._v("描述：")]),this._v(" "),e("span",{staticClass:"describe_text"},[this._v(this._s(this.datas.describe))])]),this._v(" "),e("p",{staticClass:"price_box"},[e("span",{staticClass:"type"},[this._v("价格：")]),this._v(" "),e("span",{staticClass:"price"},[this._v("￥\n        "),e("span",{directives:[{name:"show",rawName:"v-show",value:0===this.choose_datas.choose_price,expression:"choose_datas.choose_price === 0"}]},[this._v(this._s(this.datas.minPrice)+" - "+this._s(this.datas.maxPrice))]),this._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:0!=this.choose_datas.choose_price,expression:"choose_datas.choose_price != 0"}]},[this._v(this._s(this.choose_datas.choose_price))])])]),this._v(" "),e("p",{staticClass:"appearance"},[e("span",{staticClass:"type"},[this._v("外观：")]),this._v(" "),e("chooseList",{attrs:{data:this.datas.color,type:this.types[0],defaultChoose:this.defaultChooses[0]}})],1),this._v(" "),e("p",{staticClass:"storage"},[e("span",{staticClass:"type"},[this._v("存储容量：")]),this._v(" "),e("chooseList",{attrs:{data:this.datas.storages,type:this.types[1],defaultChoose:this.defaultChooses[1]}})],1),this._v(" "),e("p",{staticClass:"solid"}),this._v(" "),e("button",{staticClass:"add_shopping_cart",attrs:{disabled:""===this.choose_datas.choose_color||""===this.choose_datas.choose_storage},on:{click:this.add_shopping_cart}},[this._v("\n      加入购物车\n    ")])])])},staticRenderFns:[]};var g=s("VU/8")(v,m,!1,function(t){s("Lzz8")},null,null).exports,f={name:"num",props:["datas"],data:function(){return{num:this.datas.num,editing:0}},watch:{numbers:{handler:function(){this.num=this.numbers},deep:!0},num:{handler:function(){(""===this.num||isNaN(this.num))&&(this.num=1),this.editing_done()},deep:!0}},computed:{numbers:function(){return this.datas.num}},methods:{decrease:function(){this.$store.commit("decrease",{index:this.datas.index})},add:function(){this.$store.commit("add",{index:this.datas.index})},editing_done:function(){this.editing=0,this.$store.commit("change_num",{index:this.datas.index,num:this.num})}},directives:{focus:{update:function(t,e){e.value&&t.focus()}}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"numbers_box",attrs:{"data-id":t.datas.index}},[s("span",{staticClass:"decrease noselect",attrs:{title:"减少",unselectable:"on"},on:{click:t.decrease}},[t._v("-")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],staticClass:"number_put",attrs:{type:"number"},domProps:{value:t.num},on:{input:function(e){e.target.composing||(t.num=e.target.value)}}}),t._v(" "),s("span",{staticClass:"add noselect",attrs:{title:"添加",unselectable:"on"},on:{click:t.add}},[t._v("+")])])},staticRenderFns:[]};var k=function(t,e){localStorage.setItem(t,c()(e))},x={name:"shoppingCart",data:function(){return{checked_state:!1}},watch:{listData:{handler:function(){this.check_function(),k("data",this.listData)},deep:!0}},created:function(){this.check_function()},computed:{listData:function(){return this.$store.state.shoppingCartList},check_num:function(){for(var t=0,e=this.$store.state.shoppingCartList,s=0;s<e.length;s++)e[s].checked&&(t+=1);return t},total:function(){for(var t=0,e=this.$store.state.shoppingCartList,s=0;s<e.length;s++)e[s].checked&&(t+=e[s].subtotal);return t}},components:{num:s("VU/8")(f,C,!1,function(t){s("57P8")},null,null).exports},methods:{check_all:function(){this.$store.commit("check_all",{check_state:this.checked_state})},choose:function(t,e){this.$store.commit("choose",{index:e})},check_function:function(){for(var t=0,e=this.$store.state.shoppingCartList,s=0;s<e.length;s++)e[s].checked&&(t+=1);t==e.length&&t>=1?this.checked_state=!0:this.checked_state=!1},del:function(t){this.$store.commit("del",{index:t})}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shopping_cart_list clearFix"},[s("div",{directives:[{name:"show",rawName:"v-show",value:0===t.listData.length,expression:"listData.length===0"}],staticClass:"hint"},[t._v("\n    购物车空空如也\n  ")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.listData.length>=1,expression:"listData.length>=1"}],staticClass:"top_title"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checked_state,expression:"checked_state"}],attrs:{type:"checkbox",id:"check_all"},domProps:{checked:Array.isArray(t.checked_state)?t._i(t.checked_state,null)>-1:t.checked_state},on:{click:t.check_all,change:function(e){var s=t.checked_state,a=e.target,o=!!a.checked;if(Array.isArray(s)){var i=t._i(s,null);a.checked?i<0&&(t.checked_state=s.concat([null])):i>-1&&(t.checked_state=s.slice(0,i).concat(s.slice(i+1)))}else t.checked_state=o}}}),t._v(" "),s("label",{staticClass:"check_all_text",attrs:{for:"check_all"}},[t._v("全选")]),t._v(" "),s("span",{staticClass:"commodity_name"},[t._v("商品名称")]),t._v(" "),s("span",{staticClass:"unit_price"},[t._v("单价")]),t._v(" "),s("span",{staticClass:"numbers"},[t._v("数量")]),t._v(" "),s("span",{staticClass:"subtotal"},[t._v("小计")]),t._v(" "),s("span",{staticClass:"operation"},[t._v("操作")])]),t._v(" "),s("ul",{staticClass:"list clearFix"},t._l(t.listData,function(e,a){return s("li",{class:{no_type:""===e.type}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],staticClass:"check_btn",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{click:function(s){t.choose(e.checked,a)},change:function(s){var a=e.checked,o=s.target,i=!!o.checked;if(Array.isArray(a)){var n=t._i(a,null);o.checked?n<0&&(e.checked=a.concat([null])):n>-1&&(e.checked=a.slice(0,n).concat(a.slice(n+1)))}else t.$set(e,"checked",i)}}}),t._v(" "),s("a",{staticClass:"img_box",attrs:{href:""}},[s("img",{attrs:{src:e.picture,alt:""}})]),t._v(" "),s("span",{staticClass:"name_box"},[s("span",{staticClass:"merchandise_name"},[s("a",{attrs:{href:""}},[t._v(t._s(e.name)+" "+t._s(e.color))])]),t._v(" "),s("span",{staticClass:"type"},[t._v("存储容量："+t._s(e.type))])]),t._v(" "),s("span",{staticClass:"unit_price"},[t._v(t._s(e.unit_price)+"元")]),t._v(" "),s("span",{staticClass:"numbers"},[s("num",{attrs:{datas:{index:a,num:e.pay_number}}})],1),t._v(" "),s("span",{staticClass:"subtotal"},[t._v(t._s(e.subtotal)+"元")]),t._v(" "),s("span",{staticClass:"operation"},[s("span",{staticClass:"del",attrs:{title:"删除"},on:{click:function(e){t.del(a)}}},[t._v("×")]),t._v(" "),s("span",{staticClass:"circular",attrs:{title:"删除"}})])])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.listData.length>=1,expression:"listData.length>=1"}],staticClass:"statistics_box"},[s("span",{staticClass:"all_number"},[t._v("\n      共 "),s("span",{staticClass:"num"},[t._v(t._s(t.listData.length))]),t._v(" 件商品，已选择 "),s("span",{staticClass:"num"},[t._v(t._s(t.check_num))]),t._v(" 件\n    ")]),t._v(" "),s("button",{staticClass:"settlement",attrs:{disabled:0===t.check_num}},[t._v("去结算")]),t._v(" "),s("span",{staticClass:"total"},[t._v("合计："),s("span",{staticClass:"all_price"},[t._v(t._s(t.total))]),t._v("元")])])])},staticRenderFns:[]};var b=s("VU/8")(x,y,!1,function(t){s("qkB8")},null,null).exports;a.a.use(p.a);var w=new p.a({linkActiveClass:"is-active",routes:[{path:"/",component:g},{path:"/goods",component:g},{path:"/shoppingCart",component:b}]});s("/6gk");a.a.config.productionTip=!1,new a.a({el:"#app",router:w,store:d,template:"<App/>",components:{App:i}})},d5nF:function(t,e){},qkB8:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.42cbca8251d861bbfa46.js.map